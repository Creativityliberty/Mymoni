# ============================================================================
# SubSensei - Production Environment Variables
# ============================================================================
# Copy this file to .env in production and fill in the values
# NEVER commit .env to git!

# ============================================================================
# APPLICATION
# ============================================================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://subsensei.votredomaine.com
TZ=Europe/Paris

# ============================================================================
# DATABASE
# ============================================================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL=postgresql://user:password@db-host:5432/subsensei

# ============================================================================
# REDIS (Optional - for jobs and caching)
# ============================================================================
REDIS_URL=redis://redis-host:6379

# ============================================================================
# AUTHENTICATION
# ============================================================================
# Generate with: openssl rand -hex 32
AUTH_SECRET=CHANGE_ME_GENERATE_RANDOM_32_BYTES

# OAuth Providers (Optional)
AUTH_PROVIDER_GOOGLE_ID=
AUTH_PROVIDER_GOOGLE_SECRET=

# ============================================================================
# LLM PROVIDERS (Optional - for AI agent)
# ============================================================================
# Choose one: openai, gemini, openrouter, deepseek
LLM_PROVIDER=openai
LLM_MODEL=gpt-4o-mini

# OpenAI
OPENAI_API_KEY=sk-...

# Google Gemini
GEMINI_API_KEY=

# OpenRouter (Claude, Llama, etc.)
OPENROUTER_API_KEY=

# DeepSeek
DEEPSEEK_API_KEY=

# ============================================================================
# STORAGE (Optional - for invoice uploads)
# ============================================================================
# S3-compatible storage (AWS S3, DigitalOcean Spaces, MinIO, etc.)
S3_ENDPOINT=https://s3.eu-west-1.amazonaws.com
S3_BUCKET=subsensei-invoices
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_REGION=eu-west-1

# ============================================================================
# MONITORING (Optional)
# ============================================================================
# Sentry
SENTRY_DSN=

# LogRocket
LOGROCKET_APP_ID=

# ============================================================================
# EMAIL (Optional - for notifications)
# ============================================================================
# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@subsensei.com

# Or use a service like SendGrid, Mailgun, etc.
SENDGRID_API_KEY=
MAILGUN_API_KEY=

# ============================================================================
# SECURITY
# ============================================================================
# Rate limiting
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=https://subsensei.votredomaine.com

# ============================================================================
# FEATURES FLAGS (Optional)
# ============================================================================
ENABLE_SIGNUP=true
ENABLE_AI_AGENT=true
ENABLE_INVOICE_UPLOAD=true
ENABLE_CSV_EXPORT=true
ENABLE_WEBHOOKS=false

# ============================================================================
# NOTES
# ============================================================================
# 1. DATABASE_URL: Use connection pooling in production (e.g., PgBouncer)
# 2. AUTH_SECRET: MUST be changed to a random value
# 3. LLM_PROVIDER: Can be disabled if AI agent not needed
# 4. S3_*: Required only if invoice upload is enabled
# 5. REDIS_URL: Recommended for production (jobs, caching)
# 6. All *_API_KEY: Keep secure, never expose in client-side code
